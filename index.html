<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ekosistem Ekolojisi - Naci Karhan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;600;700&display=swap');
        
        body { font-family: 'Quicksand', sans-serif; overflow-x: hidden; }
        
        .card-container { perspective: 1000px; }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
        }
        .card-inner.is-flipped { transform: rotateY(180deg); }
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 1.5rem;
            padding: 2rem;
            text-align: center;
        }
        .card-back { transform: rotateY(180deg); }
        
        /* Arka plan aÃ§Ä±k mavi gradyan */
        .gradient-bg { background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%); }
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        
        .progress-bar { transition: width 0.3s ease; }
        
        @keyframes success-pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
            100% { transform: scale(1); }
        }
        .success-animate { animation: success-pulse 0.5s ease-out; }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen flex items-center justify-center p-4">

    <!-- Ã–zel Onay ModalÄ± -->
    <div id="confirm-modal" class="modal-overlay hidden">
        <div class="glass p-8 rounded-[2rem] max-w-xs w-full text-center shadow-2xl mx-4">
            <i class="fas fa-exclamation-triangle text-4xl text-yellow-500 mb-4"></i>
            <h3 class="text-xl font-bold text-gray-800 mb-2">Emin Misin?</h3>
            <p class="text-gray-600 mb-6 text-sm">Testten Ã§Ä±karsan tÃ¼m ilerlemen kaybolacak.</p>
            <div class="grid grid-cols-2 gap-3">
                <button onclick="closeModal()" class="bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-all">VazgeÃ§</button>
                <button onclick="confirmExit()" class="bg-red-500 text-white py-3 rounded-xl font-bold hover:bg-red-600 transition-all">Ã‡Ä±kÄ±ÅŸ Yap</button>
            </div>
        </div>
    </div>

    <!-- Ana Ekran (GiriÅŸ) -->
    <div id="welcome-screen" class="glass w-full max-w-md rounded-[2.5rem] p-10 shadow-2xl text-center border border-white/50">
        <div class="mb-8">
            <div class="w-24 h-24 bg-sky-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
                <i class="fas fa-leaf text-4xl text-white"></i>
            </div>
            <h1 class="text-3xl font-bold text-slate-800 tracking-tight">Ekosistem Ekolojisi</h1>
            <p class="text-slate-500 mt-2 font-medium">TYT Biyoloji Bilgi Kart SorularÄ±</p>
        </div>

        <div class="bg-sky-50 rounded-2xl p-4 mb-8 text-left space-y-2 border border-sky-100">
            <p class="text-sm text-sky-800"><strong><i class="fas fa-seedling mr-2"></i>Konu:</strong> Madde DÃ¶ngÃ¼sÃ¼ & Ã‡evre</p>
            <p class="text-sm text-sky-800"><strong><i class="fas fa-layer-group mr-2"></i>Soru:</strong> 25 Bilgi KartÄ±</p>
            <p class="text-sm text-sky-800"><strong><i class="fas fa-file-csv mr-2"></i>Kaynak:</strong> Ekosistem ArÅŸivi (CSV)</p>
        </div>

        <div class="space-y-4">
            <button onclick="startApp()" class="w-full bg-sky-600 hover:bg-sky-700 text-white py-4 rounded-2xl font-bold text-lg shadow-xl transition-all transform hover:-translate-y-1">Hemen BaÅŸla</button>
            <button onclick="showScreen('explore-screen')" class="w-full bg-white border-2 border-slate-100 text-slate-700 py-3 rounded-2xl font-semibold hover:bg-slate-50 transition-all">HÄ±zlÄ± Ã–zet</button>
        </div>

        <div class="mt-10 pt-6 border-t border-slate-100">
            <p class="text-sm font-bold text-slate-400 tracking-wider uppercase">TasarÄ±m: Naci Karhan</p>
        </div>
    </div>

    <!-- HÄ±zlÄ± Ã–zet EkranÄ± -->
    <div id="explore-screen" class="glass hidden w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-white/50 text-center">
        <h2 class="text-2xl font-bold text-slate-800 mb-6">Ekoloji Ã–zeti</h2>
        <div class="space-y-3 max-h-[400px] overflow-y-auto pr-2 text-left">
            <div class="p-4 bg-blue-50 rounded-2xl border-l-4 border-blue-500">
                <span class="font-bold block text-blue-800">Abiyotik FaktÃ¶rler</span>
                <span class="text-sm text-blue-600">IÅŸÄ±k, sÄ±caklÄ±k, su, pH gibi cansÄ±z etmenlerdir.</span>
            </div>
            <div class="p-4 bg-purple-50 rounded-2xl border-l-4 border-purple-500">
                <span class="font-bold block text-purple-800">Besin Piramidi</span>
                <span class="text-sm text-purple-600">YukarÄ± gidildikÃ§e aktarÄ±lan enerji azalÄ±r, biyolojik birikim artar.</span>
            </div>
            <div class="p-4 bg-green-50 rounded-2xl border-l-4 border-green-500">
                <span class="font-bold block text-green-800">Madde DÃ¶ngÃ¼leri</span>
                <span class="text-sm text-green-600">Azot, karbon ve su dÃ¶ngÃ¼leri yaÅŸamÄ±n devamÄ± iÃ§in kritiktir.</span>
            </div>
        </div>
        <button onclick="showScreen('welcome-screen')" class="mt-8 w-full bg-slate-800 text-white py-3 rounded-2xl font-bold">Geri DÃ¶n</button>
        <div class="mt-8 text-center">
            <p class="text-sm font-bold text-slate-400">TasarÄ±m: Naci Karhan</p>
        </div>
    </div>

    <!-- Flashcard EkranÄ± -->
    <div id="quiz-screen" class="glass hidden w-full max-w-md rounded-[2.5rem] p-6 shadow-2xl border border-white/50">
        <div class="flex justify-between items-center mb-6">
            <div class="flex items-center space-x-2 bg-sky-100 px-3 py-1 rounded-full text-sky-700 font-bold text-sm">
                <i class="fas fa-clock"></i>
                <span id="timer">00:00</span>
            </div>
            <div class="text-xs font-bold text-slate-400 uppercase">
                Kart: <span id="current-index" class="text-sky-600">1</span>/25
            </div>
            <button onclick="openExitModal()" class="text-slate-300 hover:text-red-500 transition-colors"><i class="fas fa-times-circle text-2xl"></i></button>
        </div>

        <div class="w-full bg-slate-100 h-2 rounded-full mb-8 overflow-hidden">
            <div id="progress-bar" class="progress-bar bg-sky-500 h-full w-0"></div>
        </div>

        <!-- Flash Card -->
        <div class="card-container w-full h-80 mb-8" onclick="flipCard()">
            <div id="card-inner" class="card-inner">
                <div class="card-face card-front bg-white border-4 border-sky-100 shadow-inner">
                    <div class="space-y-4">
                        <i class="fas fa-earth-americas text-4xl text-sky-200"></i>
                        <h3 id="question-text" class="text-xl font-bold text-slate-800 leading-snug">Soru yÃ¼kleniyor...</h3>
                        <p class="text-[10px] font-bold text-sky-400 animate-bounce tracking-widest uppercase">CevabÄ± GÃ¶rmek Ä°Ã§in TÄ±kla</p>
                    </div>
                </div>
                <div class="card-face card-back bg-sky-600 text-white shadow-xl">
                    <div class="space-y-4">
                        <i class="fas fa-lightbulb text-4xl text-yellow-300"></i>
                        <p id="answer-text" class="text-lg font-medium leading-relaxed px-2">Cevap yÃ¼kleniyor...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div id="controls" class="grid grid-cols-2 gap-4 opacity-0 transition-opacity duration-300 pointer-events-none">
            <button onclick="recordResult(false)" class="bg-red-50 text-red-600 py-3 rounded-2xl font-bold border-2 border-red-100 hover:bg-red-100 flex flex-col items-center">
                <span>âŒ BÄ°LEMEDÄ°M</span>
                <span class="text-[9px] font-normal uppercase mt-1">Tekrar Gelsin</span>
            </button>
            <button onclick="recordResult(true)" class="bg-green-50 text-green-600 py-3 rounded-2xl font-bold border-2 border-green-100 hover:bg-green-100 flex flex-col items-center">
                <span>ğŸ”” BÄ°LDÄ°M!</span>
                <span class="text-[9px] font-normal uppercase mt-1">DoÄŸru Cevap</span>
            </button>
        </div>

        <div class="mt-8 text-center border-t border-slate-50 pt-4">
            <p class="text-xs font-bold text-slate-300 tracking-widest uppercase">TasarÄ±m: Naci Karhan</p>
        </div>
    </div>

    <!-- Karne EkranÄ± -->
    <div id="result-screen" class="glass hidden w-full max-w-md rounded-[2.5rem] p-10 shadow-2xl text-center border border-white/50">
        <h2 class="text-3xl font-bold text-slate-800">Ekoloji Analizi</h2>
        
        <div id="badge-area" class="my-8"></div>

        <div class="grid grid-cols-2 gap-4 mb-6">
            <div class="bg-green-50 p-4 rounded-2xl border-2 border-green-100">
                <span class="block text-xs text-green-600 font-bold uppercase mb-1">DoÄŸru</span>
                <span id="res-correct" class="text-3xl font-black text-green-700">0</span>
            </div>
            <div class="bg-red-50 p-4 rounded-2xl border-2 border-red-100">
                <span class="block text-xs text-red-600 font-bold uppercase mb-1">Hata</span>
                <span id="res-wrong" class="text-3xl font-black text-red-700">0</span>
            </div>
        </div>

        <div class="bg-slate-50 p-6 rounded-3xl mb-8 flex justify-between items-center border border-slate-100 shadow-inner">
            <div class="text-left">
                <span class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">BaÅŸarÄ± YÃ¼zdesi</span>
                <div id="res-percent" class="text-3xl font-black text-sky-600">%0</div>
            </div>
            <div class="text-right">
                <span class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">SÃ¼re</span>
                <div id="res-time" class="text-xl font-bold text-slate-700">00:00</div>
            </div>
        </div>

        <div class="space-y-3">
            <button onclick="startApp()" class="w-full bg-sky-600 text-white py-4 rounded-2xl font-bold shadow-lg hover:bg-sky-700 transition-all">SÄ±fÄ±rla & BaÅŸla</button>
            <button onclick="showScreen('welcome-screen')" class="w-full text-slate-400 font-bold py-2 hover:text-slate-600 transition-colors">Ana MenÃ¼</button>
        </div>
        
        <div class="mt-8 pt-6 border-t border-slate-100">
            <p class="text-sm font-bold text-slate-400 uppercase">TasarÄ±m: Naci Karhan</p>
        </div>
    </div>

    <script>
        // CSV'den alÄ±nan ve Ekosistem konusuna odaklanan 25 Soru
        const flashcardsData = [
            { q: "Belirli bir alanda yaÅŸayan aynÄ± tÃ¼re ait bireylerin oluÅŸturduÄŸu topluluÄŸa ne denir?", a: "PopÃ¼lasyon" },
            { q: "Belirli bir alanda yaÅŸayan farklÄ± tÃ¼rlerin oluÅŸturduÄŸu topluluÄŸa ne denir?", a: "KomÃ¼nite" },
            { q: "CanlÄ±larÄ±n Ã§evresindeki cansÄ±z (Ä±ÅŸÄ±k, sÄ±caklÄ±k, su vb.) etmenlere ne denir?", a: "Abiyotik FaktÃ¶rler" },
            { q: "Kendi besinini kendisi Ã¼reten canlÄ±lara genel olarak ne denir?", a: "Ototrof CanlÄ±lar" },
            { q: "Ã–lÃ¼ bitki ve hayvan kalÄ±ntÄ±larÄ±nÄ± parÃ§alayarak doÄŸaya dÃ¶ndÃ¼ren canlÄ± grubu?", a: "Saprofitler (AyrÄ±ÅŸtÄ±rÄ±cÄ±lar)" },
            { q: "Besin piramidinde bir basamaktan Ã¼st basamaÄŸa enerjinin yaklaÅŸÄ±k yÃ¼zde kaÃ§Ä± aktarÄ±lÄ±r?", a: "YÃ¼zde 10 (%10)" },
            { q: "Besin zincirinde yukarÄ±ya doÄŸru Ã§Ä±kÄ±ldÄ±kÃ§a dokularda biriken zehirli madde miktarÄ±na ne denir?", a: "Biyolojik Birikim" },
            { q: "Bir canlÄ±nÄ±n ekosistemdeki gÃ¶revi veya yaptÄ±ÄŸÄ± iÅŸe ne ad verilir?", a: "Ekolojik NiÅŸ" },
            { q: "Bir canlÄ±nÄ±n doÄŸal olarak yaÅŸayÄ±p Ã¼reyebildiÄŸi yere ne denir?", a: "Habitat" },
            { q: "Baklagil kÃ¶klerinde yaÅŸayan Rhizobium bakterileri ile bitki arasÄ±ndaki iliÅŸki nedir?", a: "Mutualizm (+/+)" },
            { q: "Atmosferdeki $CO_2$ miktarÄ±nÄ±n artmasÄ±yla oluÅŸan ve kÃ¼resel Ä±sÄ±nmaya neden olan etki?", a: "Sera Etkisi" },
            { q: "Azot dÃ¶ngÃ¼sÃ¼nde amonyaÄŸÄ±n nitrat tuzlarÄ±na dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmesi olayÄ±na ne denir?", a: "Nitrifikasyon" },
            { q: "Azot dÃ¶ngÃ¼sÃ¼nde topraktaki azotun atmosfere geri verilmesi olayÄ±na ne denir?", a: "Denitrifikasyon" },
            { q: "Bir bireyin veya toplumun doÄŸadan tÃ¼kettiÄŸi kaynaklarÄ±n yenilenmesi iÃ§in gereken alana ne denir?", a: "Ekolojik Ayak Ä°zini" },
            { q: "Ãœretim ve tÃ¼ketim faaliyetleri sonucu atmosfere salÄ±nan sera gazÄ± miktarÄ±na ne denir?", a: "Karbon Ayak Ä°zi" },
            { q: "Bitkilerin tozlaÅŸmasÄ± ve toprak oluÅŸumu gibi doÄŸanÄ±n sunduÄŸu faydalara ne denir?", a: "Ekosistem Hizmetleri" },
            { q: "Toprak kirliliÄŸini Ã¶nlemek iÃ§in atÄ±k piller nereye atÄ±lmalÄ±dÄ±r?", a: "AtÄ±k pil toplama kutularÄ±na (Geri dÃ¶nÃ¼ÅŸÃ¼m)." },
            { q: "SularÄ±n kirlenmesi sonucu aÅŸÄ±rÄ± alg Ã§oÄŸalmasÄ± ve oksijenin azalmasÄ± olayÄ±na ne denir?", a: "Ã–trofikasyon" },
            { q: "SÃ¼rdÃ¼rÃ¼lebilir bir Ã§evre iÃ§in su israfÄ± ne yapÄ±lmalÄ±dÄ±r?", a: "Ã–nlenmeli ve azaltÄ±lmalÄ±dÄ±r." },
            { q: "Fosil yakÄ±t tÃ¼ketiminin artmasÄ± ekolojik ayak izini nasÄ±l etkiler?", a: "BÃ¼yÃ¼tÃ¼r (Olumsuz etkiler)." },
            { q: "Ekolojik ayak izini kÃ¼Ã§Ã¼ltmek iÃ§in ne tÃ¼r enerji kaynaklarÄ± tercih edilmelidir?", a: "Yenilenebilir enerji kaynaklarÄ± (GÃ¼neÅŸ, rÃ¼zgar vb.)." },
            { q: "Hava kirliliÄŸine baÄŸlÄ± olarak yaÄŸan ve tarihi eserlere zarar veren yaÄŸÄ±ÅŸ tÃ¼rÃ¼?", a: "Asit YaÄŸmurlarÄ±" },
            { q: "Besin piramidinin en alt basamaÄŸÄ±nda hangi canlÄ± grubu yer alÄ±r?", a: "Ãœreticiler (Bitkiler, algler vb.)" },
            { q: "DoÄŸal kaynaklarÄ±n gelecek nesillere aktarÄ±lacak ÅŸekilde kullanÄ±lmasÄ±na ne denir?", a: "SÃ¼rdÃ¼rÃ¼lebilirlik" },
            { q: "Bir bÃ¶lgedeki tÃ¼m canlÄ±lar ve onlarÄ±n etkileÅŸimde olduÄŸu cansÄ±z Ã§evrenin toplamÄ±na ne denir?", a: "Ekosistem" }
        ];

        let currentCards = [];
        let currentIndex = 0;
        let score = 0;
        let wrongs = 0;
        let isFlipped = false;
        let timerSeconds = 0;
        let timerInterval;

        function showScreen(id) {
            document.querySelectorAll('body > div:not(.modal-overlay)').forEach(d => d.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }

        function openExitModal() { document.getElementById('confirm-modal').classList.remove('hidden'); }
        function closeModal() { document.getElementById('confirm-modal').classList.add('hidden'); }
        function confirmExit() { closeModal(); clearInterval(timerInterval); showScreen('welcome-screen'); }

        function startApp() {
            currentCards = [...flashcardsData].sort(() => Math.random() - 0.5);
            currentIndex = 0;
            score = 0;
            wrongs = 0;
            timerSeconds = 0;
            isFlipped = false;
            
            showScreen('quiz-screen');
            updateCard();
            startTimer();
        }

        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timerSeconds++;
                const mins = Math.floor(timerSeconds / 60).toString().padStart(2, '0');
                const secs = (timerSeconds % 60).toString().padStart(2, '0');
                document.getElementById('timer').innerText = `${mins}:${secs}`;
            }, 1000);
        }

        function flipCard() {
            if (isFlipped) return;
            isFlipped = true;
            document.getElementById('card-inner').classList.add('is-flipped');
            const controls = document.getElementById('controls');
            controls.classList.replace('opacity-0', 'opacity-100');
            controls.classList.remove('pointer-events-none');
        }

        function updateCard() {
            const data = currentCards[currentIndex];
            document.getElementById('question-text').innerText = data.q;
            document.getElementById('answer-text').innerText = data.a;
            document.getElementById('current-index').innerText = currentIndex + 1;
            
            const progress = (currentIndex / currentCards.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;

            isFlipped = false;
            document.getElementById('card-inner').classList.remove('is-flipped');
            const controls = document.getElementById('controls');
            controls.classList.replace('opacity-100', 'opacity-0');
            controls.classList.add('pointer-events-none');
        }

        function recordResult(isCorrect) {
            isCorrect ? score++ : wrongs++;
            currentIndex++;
            if(currentIndex < currentCards.length) {
                updateCard();
            } else {
                showResults();
            }
        }

        function showResults() {
            clearInterval(timerInterval);
            showScreen('result-screen');
            
            document.getElementById('res-correct').innerText = score;
            document.getElementById('res-wrong').innerText = wrongs;
            const percent = Math.round((score / currentCards.length) * 100);
            document.getElementById('res-percent').innerText = `%${percent}`;
            document.getElementById('res-time').innerText = document.getElementById('timer').innerText;

            let badge = "ğŸ¥ˆ";
            let msg = "Ä°yi Bir BaÅŸlangÄ±Ã§";
            if (percent === 100) { badge = "ğŸŒ"; msg = "EKOSÄ°STEM KORUYUCUSU!"; }
            else if (percent >= 80) { badge = "ğŸ¥‡"; msg = "EKOLOJÄ° UZMANI"; }
            else if (percent >= 50) { badge = "ğŸ¥‰"; msg = "DOÄA DOSTU"; }

            document.getElementById('badge-area').innerHTML = `
                <div class="text-8xl success-animate">${badge}</div>
                <p class="mt-4 font-black text-xl text-sky-700 uppercase">${msg}</p>
            `;
        }
    </script>
</body>
</html>